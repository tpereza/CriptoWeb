(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-520b6510"],{"198a":function(e,n,t){"use strict";t.r(n);var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"tabmenudemo-content"},[t("AllFollowingByUser",{attrs:{id:Number(e.$route.params.id),isOther:e.isOther}})],1)},r=[],a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"following"}},[t("div",{staticClass:"container"},[t("b-card-group",{attrs:{deck:""}},e._l(e.following,(function(e){return t("div",{key:e.id},[t("UserData",{attrs:{id:e.id}})],1)})),0)],1)])},o=[],s=(t("a9e3"),t("5530")),l=t("2f62"),u=t("f366"),d=t("0f2a"),c=t.n(d),f={name:"user-following",components:{UserData:u["a"]},props:{labels:[],id:{type:Number,required:!0},isOther:{type:Boolean}},data:function(){return{following:[]}},computed:Object(s["a"])({},Object(l["c"])({token:function(e){return e.token}})),methods:{queryFollowing:function(){var e=this;this.$apollo.query({query:c.a,fetchPolicy:"no-cache",variables:{userId:this.id},context:{headers:{Authorization:this.token}}}).then((function(n){e.following=n.data.usersFollowingByFollower}))}},created:function(){this.queryFollowing()}},m=f,v=t("2877"),h=Object(v["a"])(m,a,o,!1,null,null,null),p=h.exports,k={components:{AllFollowingByUser:p},props:{isOther:{type:Boolean}}},y=k,w=Object(v["a"])(y,i,r,!1,null,null,null);n["default"]=w.exports},"2ce5":function(e,n,t){"use strict";var i=function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("div",{attrs:{id:"UserFollow"}},[i("ApolloQuery",{attrs:{query:t("ae48"),variables:{creatorId:e.creatorId},context:{headers:{Authorization:e.token}}},scopedSlots:e._u([{key:"default",fn:function(n){var t=n.result,r=(t.loading,t.error,t.data);return[r?i("div",{staticClass:"result apollo",staticStyle:{display:"none"}},[e._v(" "+e._s(e.user=r.userById)+" ")]):e._e()]}}])}),e.follows.some((function(n){return n.id===e.creatorId}))?i("b-button",{attrs:{variant:"secondary"},on:{click:function(n){return e.Unfollow(e.followId,e.token)}}},[e._v("Dejar de Seguir ")]):i("b-button",{attrs:{variant:"info"},on:{click:function(n){return e.Follow(e.userId,e.creatorId,e.token)}}},[e._v("Seguir ")])],1)},r=[],a=(t("7db0"),t("45fc"),t("a9e3"),t("96cf"),t("1da1")),o=t("5530"),s=t("2f62"),l=t("c231"),u=t.n(l),d=t("231f"),c=t.n(d),f=t("0f2a"),m=t.n(f),v=t("1213"),h=t.n(v),p={name:"FollowUser",components:{},props:{creatorId:{type:Number,required:!0}},data:function(){return{user:{},follows:[],userFollows:[],followId:Number}},watch:{userFollows:function(){var e=this;this.follows.some((function(n){return n.id===e.creatorId}))&&(this.followId=this.userFollows.find((function(n){return n.userFollower.id===e.userId&&n.userFollowing.id===e.creatorId})).id)}},computed:Object(o["a"])({},Object(s["c"])({userId:function(e){return Number(e.id)},token:function(e){return e.token}})),methods:{Unfollow:function(e,n){var t=this;this.$apollo.mutate({mutation:u.a,variables:{followId:e},context:{headers:{Authorization:n}}}).then((function(){console.log("unfollowed"),t.$emit("updated")}))},Follow:function(e,n,t){var i=this;this.$apollo.mutate({mutation:c.a,variables:{userFollower:e,userFollowing:n},context:{headers:{Authorization:t}}}).then((function(){console.log("followed"),i.$emit("updated")}))}},created:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var t,i,r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t=Number(e.userId),i=e.token,n.next=4,e.$apollo.query({fetchPolicy:"no-cache",query:m.a,variables:{userId:t},context:{headers:{Authorization:i}}});case 4:return r=n.sent,n.next=7,e.$apollo.query({fetchPolicy:"no-cache",query:h.a,variables:{userId:t},context:{headers:{Authorization:i}}});case 7:a=n.sent,e.follows=r.data.usersFollowingByFollower,e.userFollows=a.data.allUserFollow;case 10:case"end":return n.stop()}}),n)})))()}},k=p,y=t("2877"),w=Object(y["a"])(k,i,r,!1,null,null,null);n["a"]=w.exports},"45fc":function(e,n,t){"use strict";var i=t("23e7"),r=t("b727").some,a=t("a640"),o=t("ae40"),s=a("some"),l=o("some");i({target:"Array",proto:!0,forced:!s||!l},{some:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},8713:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"userById"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userById"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"correo"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profiles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"countryId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fechaNacimiento"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"genero"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"foto"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"descripcion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edad"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:263}};t.loc.source={body:"query userById($id: Int!){\n  userById (id: $id ) {\n    id\n    username\n    firstName\n    lastName\n    correo\n    profiles {\n        \tuserId\n        \tcountryId\n        \tfechaNacimiento\n        \tgenero\n        \tfoto\n        \tdescripcion\n        \tedad\n      }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,n)})),e.definitions&&e.definitions.forEach((function(e){i(e,n)}))}var r={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}function o(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=r[n]||new Set,o=new Set,s=new Set;i.forEach((function(e){s.add(e)}));while(s.size>0){var l=s;s=new Set,l.forEach((function(e){if(!o.has(e)){o.add(e);var n=r[e]||new Set;n.forEach((function(e){s.add(e)}))}}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(function(){t.definitions.forEach((function(e){if(e.name){var n=new Set;i(e,n),r[e.name.value]=n}}))})(),e.exports=t,e.exports["userById"]=o(t,"userById")},f366:function(e,n,t){"use strict";var i=function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("div",{attrs:{id:"userdata"}},[i("ApolloQuery",{attrs:{query:t("8713"),variables:{id:e.id},context:{headers:{Authorization:e.token}}},scopedSlots:e._u([{key:"default",fn:function(n){var t=n.result,r=(t.loading,t.error,t.data);return[r?i("div",{staticClass:"result apollo",staticStyle:{display:"none"}},[e._v(e._s(e.user=r.userById)+" ")]):e._e()]}}])}),i("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"20rem"},attrs:{"img-src":e.user.profiles[0].foto,"img-alt":"Image","img-top":"",tag:"article"},scopedSlots:e._u([{key:"header",fn:function(){return[i("a",{attrs:{href:"#"},on:{click:function(n){return e.$router.push({path:"/otherprofile/multimedia/"+e.user.id})}}},[e._v(" "+e._s(e.fullName)+" ")])]},proxy:!0}])},[i("b-card-body",[i("b-card-sub-title",{staticClass:"mb-2"},[e._v(e._s(e.user.username))])],1),i("FollowUser",{key:e.componentKey,attrs:{creatorId:Number(e.user.id)},on:{updated:e.forceRerender}})],1)],1)},r=[],a=(t("99af"),t("a9e3"),t("5530")),o=t("2f62"),s=t("2ce5"),l={name:"datauser",components:{FollowUser:s["a"]},props:{id:{type:Number,required:!0}},data:function(){return{componentKey:0,user:{id:"",firstName:"",lastName:"",profiles:[{}]}}},methods:{forceRerender:function(){this.componentKey+=1}},computed:Object(a["a"])({},Object(o["c"])({token:function(e){return e.token}}),{fullName:function(){return this.user.firstName.concat(" ",this.user.lastName)}})},u=l,d=t("2877"),c=Object(d["a"])(u,i,r,!1,null,null,null);n["a"]=c.exports}}]);
//# sourceMappingURL=chunk-520b6510.95b67d28.js.map